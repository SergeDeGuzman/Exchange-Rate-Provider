<div class="rate-container">
  @if (isLoading) {
  <div class="alert alert-info">Updating rates...</div>
  } @if (errorMessage) {
  <div class="alert alert-danger">{{ errorMessage }}</div>
  }

  <h1>CNB Daily Exchange Rates</h1>
  @if (dailyRates$ | async; as rates) {
  <div class="header-section">
    @if (rates.rates.length > 0) {
    <h2>Rates valid for: {{ rates.rates[0].validFor | date : 'longDate' }}</h2>
    }
  </div>

  <table class="exchange-rate-table">
    <thead>
      <tr>
        <th>Country</th>
        <th>Currency</th>
        <th>Code</th>
        <th>Amount</th>
        <th>Rate (CZK)</th>
      </tr>
    </thead>
    <tbody>
      @for (rate of rates.rates; track rate.currencyCode) {
      <tr>
        <td>{{ rate.country }}</td>
        <td>{{ rate.currency }}</td>
        <td>
          <span class="currency-code">{{ rate.currencyCode }}</span>
        </td>
        <td>{{ rate.amount }}</td>
        <td>
          <strong>{{ rate.rate | number : '1.3-3' }}</strong>
        </td>
      </tr>
      }
    </tbody>
  </table>
  }
</div>
